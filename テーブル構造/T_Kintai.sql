---------------------------------------------------------------------------------- [dbo].[T_Kintai] のレイアウト変更--   2025/05/17 ken---------------------------------------------------------------------------------- 新テーブルの作成create table [dbo].[$$T_Kintai] (  [userid] int not null  , [year] nchar(4) not null  , [month] nchar(2) not null  , [day] nchar(2) not null  , [start_time] datetime  , [end_time] datetime  , [trip_start_time] datetime  , [trip_end_time] datetime  , [trip_flg] bit default 0  , [all_day] bit default 0  , [rest_start_time] datetime  , [rest_end_time] datetime  , [del_flg] bit default 0)-- 新テーブルへデータ投入insert into [dbo].[$$T_Kintai]([userid], [year], [month], [day], [start_time], [end_time], [trip_start_time], [trip_end_time], [trip_flg], [all_day], [rest_start_time], [rest_end_time], [del_flg])  select org.[userid], org.[year], org.[month], org.[day], org.[start_time], org.[end_time], org.[trip_start_time], org.[trip_end_time], org.[trip_flg], org.[all_day], org.[rest_start_time], org.[rest_end_time], org.[del_flg] from [dbo].[T_Kintai] org-- 元テーブルの削除drop table [dbo].[T_Kintai]-- 新テーブルをリネームして元テーブル名に変更EXEC sp_rename '[dbo].[$$T_Kintai]', 'T_Kintai';-- 主キーの作成alter table [dbo].[T_Kintai]  add constraint [PK_T_Kintai] primary key ([userid],[year],[month],[day])-- コメントの作成EXECUTE sp_addextendedproperty N'MS_Description', N'勤怠テーブル', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', NULL, NULLEXECUTE sp_addextendedproperty N'MS_Description', N'ユーザID', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'userid'EXECUTE sp_addextendedproperty N'MS_Description', N'年', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'year'EXECUTE sp_addextendedproperty N'MS_Description', N'月', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'month'EXECUTE sp_addextendedproperty N'MS_Description', N'日', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'day'EXECUTE sp_addextendedproperty N'MS_Description', N'出勤時間(YYYY-MM-DDThh:mm:ss)', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'start_time'EXECUTE sp_addextendedproperty N'MS_Description', N'退勤時間(YYYY-MM-DDThh:mm:ss)', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'end_time'EXECUTE sp_addextendedproperty N'MS_Description', N'出張開始時間(YYYY-MM-DDThh:mm:ss)', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'trip_start_time'EXECUTE sp_addextendedproperty N'MS_Description', N'出張終了時間(YYYY-MM-DDThh:mm:ss)', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'trip_end_time'EXECUTE sp_addextendedproperty N'MS_Description', N'出張のときは1', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'trip_flg'EXECUTE sp_addextendedproperty N'MS_Description', N'直帰の場合は1', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'all_day'EXECUTE sp_addextendedproperty N'MS_Description', N'休憩開始時間(YYYY-MM-DDThh:mm:ss)', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'rest_start_time'EXECUTE sp_addextendedproperty N'MS_Description', N'休憩終了時間(YYYY-MM-DDThh:mm:ss)', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'rest_end_time'EXECUTE sp_addextendedproperty N'MS_Description', N'削除フラグ', N'SCHEMA', N'dbo', N'TABLE', N'T_Kintai', N'COLUMN', N'del_flg'